last update : 2021.06.24

#### Team Project 01 by 김동화, 최민혁
# 대륙별 코로나 사망률과 완치률

cf. 사망률 = 사망자수/확진자수, 완치률 = 완치자수/확진자수

## 목표
대륙별 코로나 사망률과 완치율의 시각화
#### 참조 링크
1) 코로나 실시간 상황판 [링크](https://coronaboard.kr/)  
2) 대륙별 나라 목록 [링크](https://ko.wikipedia.org/wiki/%EB%8C%80%EB%A5%99%EB%B3%84_%EB%82%98%EB%9D%BC_%EB%AA%A9%EB%A1%9D)

## 과정
- 주요 라이브러리 : `selenium` `bs4` `pandas`  

1. *1) 사이트*에서 국가별 코로나 사망률과 완치율 정보를 가져온다  
2. *2) 사이트*에서 국가 이름과 그 국가가 속한 대륙 이름을 가져온다.  
3. 국가별 사망률과 완치율, 국가가 속한 대륙 이름을 DataFrame으로 묶는다.  
4. 대륙별로 평균 사망률과 완치율의 평균을 구한다.  
5. 시각화한다.

## 결과

result.png![result.png](./result.png)




## 해석 및 향후 개선 사항
- 치명률에 비해 완치율의 분산이 크기 때문에 대륙에 따라서 완치율이 달라질 수 있다고 말할 수 있다.  
- 치명률과 완치율의 양상이 비슷하지 하지 않은 것으로 보았을 때 대륙별로 백신 보급, 의료환경 등 인위적이고 대륙마다 독립적인 요소들에 영향을 받았을 것으로 예상해볼 수 있다.  
- 전세계 백신 보급 현황 [링크](https://www.bbc.com/korean/features-56066227) 을 보았을 때 유럽 국가와 북아메리카의 보급률이 다른 국가에 비해 높은 것으로 확인되었다. 그럼에도 불구하고 완치율에 차이가 나는 것은 유럽에 비해 북아메리카의 의료 시설에 대한 접근성 등과 같은 대륙적 요소들의 영향을 끼쳤다고 생각해볼 수 있다.  
- 의료 후진국을 많이 포함하고 있는 아프리카 대륙의 치명률이 높을 것으로 예상하였지만, 다른 대륙들과 비슷한 수준의 치명률과 완치률을 가진 것으로 보아 인간의 면역체계와 백신 보급 등과 같은 국제적인 협조가 잘 작동하고 있다고 생각할 수 있다.   
- 사망률과 완치율은 서로 음의 상관관계를 가질 것으로 예상하였지만 분석해본 결과 그렇지는 않았다.  

### 1. 국가별 코로나 사망률, 완치율 
임동조 강사님 unit08_corona_01_today 파일 참고



```python
from IPython.display import display, Image 
import os, warnings
import re
warnings.filterwarnings(action= 'ignore')
```


```python
# 필수
from selenium import webdriver 
from bs4 import BeautifulSoup
import time

from selenium.webdriver import ActionChains
import pandas as pd
import matplotlib.pyplot as plt

from urllib.request import urlopen
import seaborn as sns
```

#### 1) 웹 드라이버 객체 할당 및 크롤링할 웹 페이지 띄우기


```python
driver = webdriver.Chrome("../chromedriver")
driver
```




    <selenium.webdriver.chrome.webdriver.WebDriver (session="5b9d730f313924f031b9c8d64b9ea474")>




```python
corona_url = 'https://coronaboard.kr/'
driver.get(corona_url)
```


```python
# 더보기 버튼 끝까지 누르기
xpath_btn = '//*[@id="show-more"]'
cnt = 0
while True:
    try :
        sel_btn = driver.find_element_by_xpath(xpath_btn)
        sel_btn.click()
        cnt += 1
    except :
        print("더보기 버튼을 %d번 눌렀습니다."%cnt)
        break
```

    더보기 버튼을 2번 눌렀습니다.


#### 2) 웹 페이지 html 가져오기


```python
page = driver.page_source
soup = BeautifulSoup(page, 'html.parser')
soup.title
```




    <title>코로나19(COVID-19) 실시간 상황판</title>



#### 3) 원하는 정보 가져오기
- 전체 테이블 지정


```python
table = soup.select("tbody > tr")
table[0] # index : 0~220
```




    <tr class="google-visualization-table-tr-even"><td class="google-visualization-table-td google-visualization-table-seq">1</td><td class="google-visualization-table-td" colspan="1"><a href="https://coronaboard.com" target="_blank">미국🇺🇸</a></td><td class="google-visualization-table-type-number google-visualization-table-td" colspan="1">34,434,803<br/><span class="red diff">(+14,822)</span></td><td class="google-visualization-table-type-number google-visualization-table-td" colspan="1">617,875<br/><span class="red diff">(+392)</span></td><td class="google-visualization-table-type-number google-visualization-table-td" colspan="1">28,817,134<br/><span class="green diff">(+48,726)</span></td><td class="google-visualization-table-type-number google-visualization-table-td" colspan="1">1.8</td><td class="google-visualization-table-type-number google-visualization-table-td" colspan="1">83.7</td><td class="google-visualization-table-type-number google-visualization-table-td" colspan="1">104,032</td></tr>



#### 3-1) 한 개의 국가만 가져오기 [test]
- 국가  
<U>이름에 링크가 있는 국가</U>(예.미국)와 <U>없는 국가</U>(예.인도)의 html 구성이 달라서 BeautifulSoup으로 동일한 항목을 뽑아내기 어려웠다. selenium의 xpath을 이용해서 찾았다. 


```python
# selenium
sel_country = driver.find_elements_by_xpath('//*[@id="country-table"]/div/div/table/tbody/tr/td[2]') 
sel_country[0].text # index : 0~220 
```




    '미국🇺🇸'




```python
# BeautifulSoup
america = table[0]
print(america.a.text)

india = table[1]
print(india.find_all("td",class_="google-visualization-table-td")[1].text)
```

    미국🇺🇸
    인도🇮🇳


- 확진자, 사망자, 완치자, 치명률, 완치률, 발생률  
cf. 발생률 = 100만명당 발생률 (=확진자/인구수*1,000,000)


```python
one = table[0]
num_tag = one.find_all("td", class_="google-visualization-table-type-number google-visualization-table-td")
print(num_tag[0].text) # 확진자
print(num_tag[1].text) # 사망자
print(num_tag[2].text) # 완치자
print(num_tag[3].text) # 치명률
print(num_tag[4].text) # 완치률
print(num_tag[5].text) # 발생률

```

    34,434,803(+14,822)
    617,875(+392)
    28,817,134(+48,726)
    1.8
    83.7
    104,032


#### 3-2) 모든 국가 가져오기
221개국까지 수집이 가능하지만, 치명률 정보가 나와있지 않은 국가가 있기 때문에 200개국까지만 정보를 받아온다.


```python
table = soup.select("tbody > tr")

all_data = []
for n in range(200) : # 221까지 가능하지만 
    row_data = []
    
    # 국가
    sel_country = driver.find_elements_by_xpath('//*[@id="country-table"]/div/div/table/tbody/tr/td[2]') 
    row_data.append(sel_country[n].text) 
    
    # 확진자, 사망자, 완치자, 치명률, 완치률, 발생률
    one = table[n]
    num_tag = one.find_all("td", class_="google-visualization-table-type-number google-visualization-table-td")
    for i in range(6): 
        row_data.append(num_tag[i].text) 
    
    all_data.append(row_data)
    
all_data
```




    [['미국🇺🇸',
      '34,434,803(+14,822)',
      '617,875(+392)',
      '28,817,134(+48,726)',
      '1.8',
      '83.7',
      '104,032'],
     ['인도🇮🇳',
      '30,028,709(+26,018)',
      '390,691(+1,030)',
      '28,994,855(+44,129)',
      '1.3',
      '96.6',
      '21,760'],
     ['브라질🇧🇷',
      '18,056,639(+86,833)',
      '504,897(+2,080)',
      '16,388,847(+100,455)',
      '2.8',
      '90.8',
      '84,949'],
     ['프랑스🇫🇷',
      '5,760,002(+2,204)',
      '110,829(+51)',
      '5,575,086(+8,692)',
      '1.9',
      '96.8',
      '88,244'],
     ['터키🇹🇷',
      '5,381,736(+6,143)',
      '49,293(+57)',
      '5,242,945(+5,214)',
      '0.9',
      '97.4',
      '63,811'],
     ['러시아🇷🇺', '5,350,919', '130,347', '4,889,450', '2.4', '91.4', '36,667'],
     ['영국🇬🇧',
      '4,651,988(+11,481)',
      '128,008(+27)',
      '4,306,482(+2,486)',
      '2.8',
      '92.6',
      '68,526'],
     ['아르헨티나🇦🇷',
      '4,298,782(+21,387)',
      '90,281(+791)',
      '3,928,389(+17,554)',
      '2.1',
      '91.4',
      '95,115'],
     ['이탈리아🇮🇹',
      '4,254,294(+834)',
      '127,322(+31)',
      '4,054,008(+4,692)',
      '3.0',
      '95.3',
      '70,363'],
     ['콜롬비아🇨🇴',
      '3,997,021(+28,616)',
      '101,302(+720)',
      '3,714,962(+29,015)',
      '2.5',
      '92.9',
      '78,553'],
     ['스페인🇪🇸',
      '3,768,691(+4,040)',
      '80,719(+30)',
      '3,564,850(+4,816)',
      '2.1',
      '94.6',
      '80,605'],
     ['독일🇩🇪',
      '3,731,287(+513)',
      '91,082(+57)',
      '3,611,500(+3,400)',
      '2.4',
      '96.8',
      '44,535'],
     ['이란🇮🇷', '3,117,336', '83,217', '2,771,705', '2.7', '88.9', '37,114'],
     ['폴란드🇵🇱', '2,879,030', '74,858', '2,650,773', '2.6', '92.1', '76,071'],
     ['멕시코🇲🇽',
      '2,482,784(+4,233)',
      '231,505(+261)',
      '1,977,071(+2,816)',
      '9.3',
      '79.6',
      '19,256'],
     ['우크라이나🇺🇦', '2,230,142', '52,053', '2,152,969', '2.3', '96.5', '50,994'],
     ['페루🇵🇪', '2,033,606(+2,995)', '190,906(+261)', 'N/A', '9.4', 'N/A', '61,677'],
     ['인도네시아🇮🇩', '2,018,113', '55,291', '1,810,136', '2.7', '89.7', '7,378'],
     ['남아프리카 공화국🇿🇦',
      '1,843,572(+11,093)',
      '59,092(+297)',
      '1,665,540(+8,860)',
      '3.2',
      '90.3',
      '31,084'],
     ['네덜란드🇳🇱', '1,680,228', '17,730', 'N/A', '1.1', 'N/A', '98,059'],
     ['체코🇨🇿', '1,666,192', '30,283', '1,633,482', '1.8', '98.0', '155,588'],
     ['칠레🇨🇱',
      '1,525,663(+3,440)',
      '31,690(+45)',
      '1,456,672(+4,564)',
      '2.1',
      '95.5',
      '79,810'],
     ['캐나다🇨🇦',
      '1,410,206(+599)',
      '26,155(+71)',
      '1,373,889(+1,398)',
      '1.9',
      '97.4',
      '37,364'],
     ['필리핀🇵🇭', '1,367,894', '23,809', '1,291,389', '1.7', '94.4', '12,483'],
     ['이라크🇮🇶', '1,298,703', '16,935', '1,209,918', '1.3', '93.2', '32,288'],
     ['스웨덴🇸🇪', '1,088,014', '14,570', 'N/A', '1.3', 'N/A', '107,732'],
     ['루마니아🇷🇴', '1,080,323', '32,465', '1,045,303', '3.0', '96.8', '56,157'],
     ['벨기에🇧🇪',
      '1,080,035(+395)',
      '25,144(+3)',
      '1,016,574',
      '2.3',
      '94.1',
      '93,190'],
     ['파키스탄🇵🇰',
      '950,768(+930)',
      '22,073(+39)',
      '895,690(+1,338)',
      '2.3',
      '94.2',
      '4,304'],
     ['포르투갈🇵🇹', '866,826', '17,074', '821,374', '2.0', '94.8', '85,010'],
     ['방글라데시🇧🇩', '861,150', '13,702', '788,385', '1.6', '91.6', '5,229'],
     ['이스라엘🇮🇱', '840,079(+47)', '6,428', '833,174(+4)', '0.8', '99.2', '97,057'],
     ['헝가리🇭🇺', '807,684', '29,963', '735,937', '3.7', '91.1', '83,608'],
     ['일본🇯🇵*', '785,969', '14,439', '749,282', '1.8', '95.3', '6,214'],
     ['요르단🇯🇴',
      '747,504(+504)',
      '9,683(+12)',
      '731,418(+587)',
      '1.3',
      '97.8',
      '73,262'],
     ['세르비아🇷🇸', '715,913', '7,010', '706,203', '1.0', '98.6', '81,937'],
     ['말레이시아🇲🇾', '705,762', '4,554', '639,181', '0.6', '90.6', '21,806'],
     ['스위스🇨🇭', '702,124', '10,875', '676,494', '1.5', '96.3', '81,127'],
     ['오스트리아🇦🇹', '649,728', '10,684', '636,523', '1.6', '98.0', '72,141'],
     ['네팔🇳🇵', '626,343', '8,813', '564,882', '1.4', '90.2', '21,497'],
     ['아랍에미레이트🇦🇪',
      '616,160(+2,167)',
      '1,767(+4)',
      '595,086(+2,102)',
      '0.3',
      '96.6',
      '62,299'],
     ['레바논🇱🇧',
      '543,698(+147)',
      '7,829(+4)',
      '530,689(+296)',
      '1.4',
      '97.6',
      '79,658'],
     ['모로코🇲🇦',
      '527,174(+437)',
      '9,247(+3)',
      '514,279(+381)',
      '1.8',
      '97.6',
      '14,282'],
     ['사우디아라비아🇸🇦',
      '476,882(+1,479)',
      '7,691',
      '458,048(+920)',
      '1.6',
      '96.1',
      '13,698'],
     ['에콰도르🇪🇨',
      '447,176(+543)',
      '21,315(+11)',
      '415,508',
      '4.8',
      '92.9',
      '25,346'],
     ['볼리비아🇧🇴',
      '424,478(+1,667)',
      '16,243(+69)',
      '344,609(+3,650)',
      '3.8',
      '81.2',
      '36,364'],
     ['불가리아🇧🇬',
      '421,246(+94)',
      '18,008(+8)',
      '393,636(+450)',
      '4.3',
      '93.4',
      '60,624'],
     ['그리스🇬🇷',
      '418,943(+395)',
      '12,575(+16)',
      '400,611(+733)',
      '3.0',
      '95.6',
      '40,194'],
     ['카자흐스탄🇰🇿',
      '411,771(+1,248)',
      '4,261(+12)',
      '387,295(+1,168)',
      '1.0',
      '94.1',
      '21,930'],
     ['벨라루스🇧🇾', '411,551', '3,063', '404,240', '0.7', '98.2', '43,553'],
     ['파라과이🇵🇾',
      '409,467(+1,746)',
      '11,849(+106)',
      '349,337(+2,691)',
      '2.9',
      '85.3',
      '57,408'],
     ['파나마🇵🇦',
      '395,449(+1,208)',
      '6,483(+6)',
      '378,109(+866)',
      '1.6',
      '95.6',
      '91,650'],
     ['슬로바키아🇸🇰', '391,385', '12,502', '378,044', '3.2', '96.6', '71,687'],
     ['튀니지🇹🇳',
      '387,773(+2,345)',
      '14,223(+105)',
      '339,065(+2,413)',
      '3.7',
      '87.4',
      '32,810'],
     ['조지아🇬🇪', '360,055', '5,199', '346,217', '1.4', '96.2', '90,258'],
     ['크로아티아🇭🇷', '359,259', '8,188', '350,539', '2.3', '97.6', '87,512'],
     ['우루과이🇺🇾',
      '358,461(+2,079)',
      '5,350(+34)',
      '329,662(+2,791)',
      '1.5',
      '92.0',
      '103,192'],
     ['코스타리카🇨🇷',
      '355,620(+1,525)',
      '4,546(+16)',
      '281,042(+2,817)',
      '1.3',
      '79.0',
      '69,810'],
     ['쿠웨이트🇰🇼',
      '342,929(+1,962)',
      '1,888(+11)',
      '322,897(+1,604)',
      '0.6',
      '94.2',
      '80,301'],
     ['아제르바이잔🇦🇿',
      '335,568(+47)',
      '4,963',
      '329,710(+111)',
      '1.5',
      '98.3',
      '33,096'],
     ['도미니카 공화국🇩🇴',
      '318,368(+723)',
      '3,769(+11)',
      '260,533(+884)',
      '1.2',
      '81.8',
      '29,348'],
     ['팔레스타인🇵🇸',
      '313,015(+204)',
      '3,555(+1)',
      '306,532(+220)',
      '1.1',
      '97.9',
      '61,358'],
     ['덴마크🇩🇰', '291,956', '2,531', '285,375', '0.9', '97.7', '50,405'],
     ['과테말라🇬🇹',
      '282,713(+1,859)',
      '8,785(+50)',
      '255,996(+1,296)',
      '3.1',
      '90.5',
      '15,780'],
     ['리투아니아🇱🇹', '278,466', '4,371', '265,966', '1.6', '95.5', '102,291'],
     ['이집트🇪🇬',
      '278,295(+498)',
      '15,935(+37)',
      '206,852(+799)',
      '5.7',
      '74.3',
      '2,719'],
     ['에티오피아🇪🇹',
      '275,391(+73)',
      '4,290(+4)',
      '255,962(+460)',
      '1.6',
      '92.9',
      '2,395'],
     ['아일랜드🇮🇪',
      '269,495(+174)',
      '4,979',
      '253,726(+438)',
      '1.8',
      '94.1',
      '54,578'],
     ['바레인🇧🇭',
      '263,689(+394)',
      '1,326(+15)',
      '256,063(+1,150)',
      '0.5',
      '97.1',
      '154,968'],
     ['베네수엘라🇻🇪',
      '263,372(+1,334)',
      '2,989(+16)',
      '243,840(+1,483)',
      '1.1',
      '92.6',
      '9,262'],
     ['슬로베니아🇸🇮', '257,066', '4,416', '251,243', '1.7', '97.7', '123,653'],
     ['몰도바🇲🇩',
      '256,232(+45)',
      '6,175(+2)',
      '249,250(+34)',
      '2.4',
      '97.3',
      '63,519'],
     ['온두라스🇭🇳',
      '255,117(+923)',
      '6,818(+46)',
      '91,943(+81)',
      '2.7',
      '36.0',
      '25,757'],
     ['오만🇴🇲', '252,609', '2,782', '221,250', '1.1', '87.6', '49,467'],
     ['스리랑카🇱🇰',
      '243,913(+2,093)',
      '2,704(+71)',
      '209,296(+7,907)',
      '1.1',
      '85.8',
      '11,391'],
     ['태국🇹🇭',
      '228,539(+3,174)',
      '1,744(+51)',
      '189,777(+1,941)',
      '0.8',
      '83.0',
      '3,274'],
     ['아르메니아🇦🇲', '224,330', '4,502', '216,182', '2.0', '96.4', '75,704'],
     ['카타르🇶🇦', '221,119', '584', '218,584', '0.3', '98.9', '76,749'],
     ['보스니아 헤르체고비나🇧🇦',
      '204,886(+26)',
      '9,648(+5)',
      '180,643(+398)',
      '4.7',
      '88.2',
      '62,450'],
     ['리비아🇱🇾', '191,253', '3,181', '176,649', '1.7', '92.4', '27,834'],
     ['케냐🇰🇪',
      '179,876(+583)',
      '3,484(+23)',
      '123,050(+85)',
      '1.9',
      '68.4',
      '3,345'],
     ['쿠바🇨🇺',
      '170,854(+1,489)',
      '1,180(+10)',
      '160,956(+1,181)',
      '0.7',
      '94.2',
      '15,084'],
     ['나이지리아🇳🇬', '167,331(+39)', '2,118', '163,913(+116)', '1.3', '98.0', '812'],
     ['북마케도니아🇲🇰',
      '155,640(+13)',
      '5,477',
      '149,908(+31)',
      '3.5',
      '96.3',
      '74,706'],
     ['대한민국🇰🇷',
      '152,545(+645)',
      '2,007(+1)',
      '144,379(+562)',
      '1.3',
      '94.6',
      '2,975'],
     ['미얀마🇲🇲',
      '149,247(+630)',
      '3,267(+2)',
      '133,893(+140)',
      '2.2',
      '89.7',
      '2,743'],
     ['라트비아🇱🇻', '136,975', '2,497', '132,721', '1.8', '96.9', '72,620'],
     ['알제리🇩🇿',
      '136,679(+385)',
      '3,650(+9)',
      '95,084(+262)',
      '2.7',
      '69.6',
      '3,117'],
     ['잠비아🇿🇲', '133,659', '1,744', '111,844', '1.3', '83.7', '7,270'],
     ['알바니아🇦🇱', '132,496(+5)', '2,455', '129,941(+12)', '1.9', '98.1', '46,041'],
     ['에스토니아🇪🇪', '130,855', '1,269', '126,798', '1.0', '96.9', '98,644'],
     ['노르웨이🇳🇴', '129,766(+221)', '790', '88,952', '0.6', '68.5', '23,937'],
     ['키르기스스탄🇰🇬', '116,546', '1,945', '105,932', '1.7', '90.9', '17,864'],
     ['아프가니스탄🇦🇫', '107,957', '4,366', '65,565', '4.0', '60.7', '2,773'],
     ['코소보🇽🇰', '107,247', '2,256', '105,025', '2.1', '97.9', '59,237'],
     ['우즈베키스탄🇺🇿', '106,847', '720', '102,546', '0.7', '96.0', '3,192'],
     ['몽골🇲🇳',
      '100,263(+2,213)',
      '469(+10)',
      '65,543(+1,189)',
      '0.5',
      '65.4',
      '30,584'],
     ['몬테네그로🇲🇪',
      '100,104(+12)',
      '1,606(+1)',
      '98,202(+13)',
      '1.6',
      '98.1',
      '159,385'],
     ['가나🇬🇭', '95,236(+177)', '794', '93,141(+136)', '0.8', '97.8', '3,065'],
     ['핀란드🇫🇮', '94,489', '967', '46,000', '1.0', '48.7', '17,054'],
     ['중국🇨🇳', '91,653(+24)', '4,636', '86,503(+22)', '5.1', '94.4', '64'],
     ['카메룬🇨🇲', '80,487(+159)', '1,320(+7)', '78,224(+62)', '1.6', '97.2', '3,032'],
     ['엘살바도르🇸🇻', '77,484', '2,341', '71,603', '3.0', '92.4', '11,946'],
     ['나미비아🇳🇦', '75,766', '1,179', '60,484', '1.6', '79.8', '29,819'],
     ['키프로스🇨🇾', '73,832(+122)', '374', '72,083', '0.5', '97.6', '61,152'],
     ['우간다🇺🇬', '73,401(+722)', '714(+34)', '50,085(+291)', '1.0', '68.2', '1,605'],
     ['모잠비크🇲🇿', '72,775(+198)', '852(+4)', '70,289(+48)', '1.2', '96.6', '2,328'],
     ['몰디브🇲🇻',
      '72,294(+145)',
      '207(+1)',
      '67,507(+359)',
      '0.3',
      '93.4',
      '133,743'],
     ['룩셈부르크🇱🇺', '70,547(+12)', '818', '69,461(+2)', '1.2', '98.5', '112,699'],
     ['보츠와나🇧🇼', '65,808', '1,069', '59,616', '1.6', '90.6', '27,984'],
     ['싱가포르🇸🇬', '62,448', '35', '62,098(+28)', '0.1', '99.4', '10,674'],
     ['자메이카🇯🇲',
      '49,735(+23)',
      '1,037(+3)',
      '28,935(+142)',
      '2.1',
      '58.2',
      '16,796'],
     ['코트디부아르🇨🇮', '48,058(+11)', '309(+1)', '47,511(+24)', '0.6', '98.9', '1,822'],
     ['캄보디아🇰🇭', '44,124', '459', '38,766', '1.0', '87.9', '2,639'],
     ['짐바브웨🇿🇼',
      '42,714(+519)',
      '1,691(+6)',
      '37,288(+88)',
      '4.0',
      '87.3',
      '2,874'],
     ['세네갈🇸🇳', '42,472', '1,159', '40,963', '2.7', '96.4', '2,537'],
     ['마다가스카르🇲🇬', '42,137', '903', '40,469', '2.1', '96.0', '1,522'],
     ['콩고민주공화국🇨🇩', '38,330', '888', '27,969', '2.3', '73.0', '428'],
     ['앙골라🇦🇴', '37,874(+126)', '875(+7)', '32,003(+221)', '2.3', '84.5', '1,152'],
     ['수단🇸🇩', '36,522(+175)', '2,748(+11)', '30,370(+308)', '7.5', '83.2', '833'],
     ['말라위🇲🇼', '34,996(+82)', '1,173(+2)', '32,909(+18)', '3.4', '94.0', '1,829'],
     ['르완다🇷🇼', '32,296(+861)', '392(+4)', '26,712(+8)', '1.2', '82.7', '2,493'],
     ['카보베르데🇨🇻', '32,111(+72)', '284(+1)', '31,138(+47)', '0.9', '97.0', '57,755'],
     ['트리니다드 토바고🇹🇹',
      '30,982(+215)',
      '761(+14)',
      '22,267(+395)',
      '2.5',
      '71.9',
      '22,138'],
     ['몰타 공화국🇲🇹', '30,595', '420', '30,148', '1.4', '98.5', '69,291'],
     ['호주🇦🇺', '30,380(+14)', '910', '29,272', '3.0', '96.4', '1,191'],
     ['레위니옹🇷🇪',
      '29,502(+1,061)',
      '226(+6)',
      '27,585(+1,252)',
      '0.8',
      '93.5',
      '32,952'],
     ['프랑스령 기아나🇬🇫', '26,799(+152)', '142', '9,995', '0.5', '37.3', '89,724'],
     ['시리아🇸🇾', '25,205(+47)', '1,851(+3)', '21,756(+9)', '7.3', '86.3', '1,440'],
     ['가봉🇬🇦', '24,885(+21)', '158', '24,407(+143)', '0.6', '98.1', '11,181'],
     ['기니🇬🇳', '23,543(+8)', '168', '22,340(+58)', '0.7', '94.9', '1,793'],
     ['모리타니🇲🇷', '20,415(+50)', '482(+1)', '19,477(+39)', '2.4', '95.4', '4,391'],
     ['수리남🇸🇷', '20,298(+157)', '477(+10)', '15,518(+94)', '2.3', '76.5', '34,601'],
     ['마요트🇾🇹', '19,389', '174', '2,964', '0.9', '15.3', '71,070'],
     ['가이아나🇬🇾', '19,234(+90)', '452(+3)', '17,241(+66)', '2.4', '89.6', '24,454'],
     ['프랑스령 폴리네시아🇵🇫', '18,981(+9)', '142', '18,814(+9)', '0.7', '99.1', '67,570'],
     ['에스와티니🇸🇿', '18,854(+23)', '677', '18,048(+9)', '3.6', '95.7', '16,251'],
     ['아이티🇭🇹', '17,710', '393', '12,753', '2.2', '72.0', '1,553'],
     ['파푸아뉴기니🇵🇬', '17,013', '173', '16,396', '1.0', '96.4', '1,902'],
     ['과들루프🇬🇵', '16,752', '229', '2,250', '1.4', '13.4', '41,867'],
     ['소말리아🇸🇴', '14,868(+1)', '775', '7,216(+12)', '5.2', '48.5', '935'],
     ['세이셸🇸🇨', '14,620', '59', '13,323', '0.4', '91.1', '148,657'],
     ['말리🇲🇱', '14,385', '524', '10,036', '3.6', '69.8', '710'],
     ['대만🇹🇼', '14,157(+2)', '575(+6)', '8,087(+553)', '4.1', '57.1', '594'],
     ['안도라🇦🇩', '13,864', '127', '13,665', '0.9', '98.6', '179,434'],
     ['베트남🇻🇳', '13,782(+152)', '69', '5,546(+93)', '0.5', '40.2', '142'],
     ['토고🇹🇬', '13,735(+4)', '128', '13,362(+4)', '0.9', '97.3', '1,659'],
     ['부르키나파소🇧🇫', '13,469', '168(+1)', '13,295(+2)', '1.2', '98.7', '644'],
     ['타지키스탄🇹🇯', '13,308', '90', '13,218', '0.7', '99.3', '1,395'],
     ['벨리즈🇧🇿', '13,059(+20)', '329', '12,572(+4)', '2.5', '96.3', '32,842'],
     ['콩고공화국🇨🇬', '12,404(+106)', '164(+3)', '11,211', '1.3', '90.4', '2,248'],
     ['바하마🇧🇸', '12,379(+15)', '244(+1)', '11,356(+34)', '2.0', '91.7', '31,479'],
     ['퀴라소🇨🇼', '12,321(+2)', '125', '12,163(+2)', '1.0', '98.7', '75,085'],
     ['마르티니크🇲🇶', '12,264(+86)', '98', '98', '0.8', '0.8', '32,681'],
     ['홍콩🇭🇰', '11,896', '210', '11,618(+2)', '1.8', '97.7', '1,587'],
     ['지부티🇩🇯', '11,595(+4)', '155', '11,434(+3)', '1.3', '98.6', '11,736'],
     ['레소토🇱🇸', '11,128(+21)', '329', '6,445', '3.0', '57.9', '5,195'],
     ['아루바🇦🇼', '11,116(+4)', '107', '10,978(+3)', '1.0', '98.8', '104,116'],
     ['남수단🇸🇸', '10,786', '115', '10,514', '1.1', '97.5', '964'],
     ['동티모르🇹🇱', '8,781', '19', '7,762', '0.2', '88.4', '6,660'],
     ['적도 기니🇬🇶', '8,708', '120', '8,489', '1.4', '97.5', '6,207'],
     ['베냉🇧🇯', '8,170(+30)', '104(+1)', '8,000(+21)', '1.3', '97.9', '674'],
     ['니카라과🇳🇮', '7,920(+224)', '189(+1)', '4,225', '2.4', '53.3', '1,196'],
     ['중앙아프리카 공화국🇨🇫', '7,137(+8)', '98', '6,859', '1.4', '96.1', '1,478'],
     ['예멘🇾🇪', '6,892(+3)', '1,355', '3,980(+22)', '19.7', '57.7', '231'],
     ['아이슬란드🇮🇸', '6,630', '30', '6,576', '0.5', '99.2', '19,429'],
     ['감비아🇬🇲', '6,045', '181', '5,837', '3.0', '96.6', '2,501'],
     ['에리트레아🇪🇷', '5,508(+87)', '21(+2)', '5,016(+119)', '0.4', '91.1', '1,553'],
     ['니제르🇳🇪', '5,469', '193', '5,195(+17)', '3.5', '95.0', '226'],
     ['부룬디🇧🇮', '5,273(+31)', '8', '773', '0.2', '14.7', '443'],
     ['세인트루시아🇱🇨', '5,227(+9)', '84(+4)', '5,075(+10)', '1.6', '97.1', '28,465'],
     ['산마리노🇸🇲', '5,090', '90', '4,999', '1.8', '98.2', '150,010'],
     ['시에라리온🇸🇱', '4,963(+84)', '84(+2)', '3,279(+10)', '1.7', '66.1', '622'],
     ['차드🇹🇩', '4,948(+1)', '174', '4,768', '3.5', '96.4', '301'],
     ['지브롤터🇬🇮', '4,323', '94', '4,214', '2.2', '97.5', '128,313'],
     ['바베이도스🇧🇧', '4,045', '47', '3,988', '1.2', '98.6', '14,076'],
     ['코모로🇰🇲', '3,912', '146', '3,745', '3.7', '95.7', '4,499'],
     ['기니비사우🇬🇼', '3,834(+9)', '69', '3,565(+7)', '1.8', '93.0', '1,948'],
     ['라이베리아🇱🇷', '3,109', '99', '2,169', '3.2', '69.8', '615'],
     ['리히텐슈타인🇱🇮', '3,028', '59', '2,957', '1.9', '97.7', '79,417'],
     ['뉴질랜드🇳🇿', '2,723(+3)', '26', '2,673(+2)', '1.0', '98.2', '565'],
     ['신트마르턴🇸🇽', '2,582(+7)', '32', '2,491(+4)', '1.2', '96.5', '60,220'],
     ['모나코🇲🇨', '2,554(+5)', '33', '2,487(+6)', '1.3', '97.4', '65,083'],
     ['버뮤다🇧🇲', '2,504', '33', '2,461', '1.3', '98.3', '40,207'],
     ['터크스 케이커스 제도🇹🇨', '2,424', '18', '2,389', '0.7', '98.6', '62,608'],
     ['상투메 프린시페🇸🇹', '2,363(+1)', '37', '2,315(+1)', '1.6', '98.0', '10,782'],
     ['피지🇫🇯', '2,270', '9', '618', '0.4', '27.2', '2,532'],
     ['세인트빈센트 그레나딘🇻🇨', '2,207(+11)', '12', '1,941(+5)', '0.5', '87.9', '19,894'],
     ['세인트마틴 섬🇲🇫', '2,133', '12', '1,399', '0.6', '65.6', '55,165'],
     ['라오스🇱🇦', '2,067', '3', '1,954', '0.1', '94.5', '284'],
     ['부탄🇧🇹', '1,963(+24)', '1', '1,702(+17)', '0.1', '86.7', '2,544'],
     ['모리셔스🇲🇺', '1,701', '18', '1,265', '1.1', '74.4', '1,338'],
     ['카리브 네덜란드🇧🇶', '1,634(+1)', '17', '1,609(+7)', '1.0', '98.5', '62,312'],
     ['맨섬🇮🇲', '1,601(+2)', '29', '1,566', '1.8', '97.8', '18,828'],
     ['앤티가 바부다🇦🇬', '1,263', '42', '1,221', '3.3', '96.7', '12,897'],
     ['생바르텔레미🇧🇱', '1,005', '1', '462', '0.1', '46.0', '101,752'],
     ['페로 제도🇫🇴', '769(+1)', '1', '755', '0.1', '98.2', '15,738'],
     ['케이맨 제도🇰🇾', '609', '2', '588(+1)', '0.3', '96.6', '9,266'],
     ['탄자니아🇹🇿', '509', '21', '183', '4.1', '36.0', '9'],
     ['왈리스 퓌티나🇼🇫', '445', '7', '438', '1.6', '98.4', '-']]



#### 4) DataFrame으로 만들어 csv 파일로 내보내기
- 파일명 : *corona_today.csv* (`f_name1` 객체에 저장)


```python
f_name1 = 'corona_today.csv'
col_name = ["국가","확진자","사망자","완치자","치명(%)","완치(%)","발생률"]
dict_dat = pd.DataFrame(all_data, columns=col_name)
dict_dat.to_csv(f_name1, index=False)
dict_dat
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국가</th>
      <th>확진자</th>
      <th>사망자</th>
      <th>완치자</th>
      <th>치명(%)</th>
      <th>완치(%)</th>
      <th>발생률</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>미국🇺🇸</td>
      <td>34,434,803(+14,822)</td>
      <td>617,875(+392)</td>
      <td>28,817,134(+48,726)</td>
      <td>1.8</td>
      <td>83.7</td>
      <td>104,032</td>
    </tr>
    <tr>
      <th>1</th>
      <td>인도🇮🇳</td>
      <td>30,028,709(+26,018)</td>
      <td>390,691(+1,030)</td>
      <td>28,994,855(+44,129)</td>
      <td>1.3</td>
      <td>96.6</td>
      <td>21,760</td>
    </tr>
    <tr>
      <th>2</th>
      <td>브라질🇧🇷</td>
      <td>18,056,639(+86,833)</td>
      <td>504,897(+2,080)</td>
      <td>16,388,847(+100,455)</td>
      <td>2.8</td>
      <td>90.8</td>
      <td>84,949</td>
    </tr>
    <tr>
      <th>3</th>
      <td>프랑스🇫🇷</td>
      <td>5,760,002(+2,204)</td>
      <td>110,829(+51)</td>
      <td>5,575,086(+8,692)</td>
      <td>1.9</td>
      <td>96.8</td>
      <td>88,244</td>
    </tr>
    <tr>
      <th>4</th>
      <td>터키🇹🇷</td>
      <td>5,381,736(+6,143)</td>
      <td>49,293(+57)</td>
      <td>5,242,945(+5,214)</td>
      <td>0.9</td>
      <td>97.4</td>
      <td>63,811</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>195</th>
      <td>생바르텔레미🇧🇱</td>
      <td>1,005</td>
      <td>1</td>
      <td>462</td>
      <td>0.1</td>
      <td>46.0</td>
      <td>101,752</td>
    </tr>
    <tr>
      <th>196</th>
      <td>페로 제도🇫🇴</td>
      <td>769(+1)</td>
      <td>1</td>
      <td>755</td>
      <td>0.1</td>
      <td>98.2</td>
      <td>15,738</td>
    </tr>
    <tr>
      <th>197</th>
      <td>케이맨 제도🇰🇾</td>
      <td>609</td>
      <td>2</td>
      <td>588(+1)</td>
      <td>0.3</td>
      <td>96.6</td>
      <td>9,266</td>
    </tr>
    <tr>
      <th>198</th>
      <td>탄자니아🇹🇿</td>
      <td>509</td>
      <td>21</td>
      <td>183</td>
      <td>4.1</td>
      <td>36.0</td>
      <td>9</td>
    </tr>
    <tr>
      <th>199</th>
      <td>왈리스 퓌티나🇼🇫</td>
      <td>445</td>
      <td>7</td>
      <td>438</td>
      <td>1.6</td>
      <td>98.4</td>
      <td>-</td>
    </tr>
  </tbody>
</table>
<p>200 rows × 7 columns</p>
</div>



### 2. 국가와 대륙
`BeautifulSoup`을 이용하여 위키백과의 대륙별 국가 목록을 수집하였습니다. 모든 국가의 목록을 가져와 그 국가가 속한 대륙을 수작업으로 추가하였습니다.
- 파일명 : *wiki.csv* (`f_name2` 객체에 저장)


```python
url = "https://ko.wikipedia.org/wiki/%EB%8C%80%EB%A5%99%EB%B3%84_%EB%82%98%EB%9D%BC_%EB%AA%A9%EB%A1%9D"
page = urlopen(url)
soup = BeautifulSoup(page, 'html.parser')
```


```python
name=soup.select('div.mw-parser-output>ul>li>a')
name_list = []
for one in name:
    name_list.append(one.text)
```

###  3. 국가별 사망률, 완치률, 대륙 정보를 DataFrame으로 묶기
#### 1) 국가별 사망률, 완치율 정보 불러오기
1.-4)에서 파일을 객체 `f_name1` 이름으로 저장


```python
# f_name1 = 'corona_today.csv'
data1 = pd.read_csv(f_name1)
data1
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국가</th>
      <th>확진자</th>
      <th>사망자</th>
      <th>완치자</th>
      <th>치명(%)</th>
      <th>완치(%)</th>
      <th>발생률</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>미국🇺🇸</td>
      <td>34,434,803(+14,822)</td>
      <td>617,875(+392)</td>
      <td>28,817,134(+48,726)</td>
      <td>1.8</td>
      <td>83.7</td>
      <td>104,032</td>
    </tr>
    <tr>
      <th>1</th>
      <td>인도🇮🇳</td>
      <td>30,028,709(+26,018)</td>
      <td>390,691(+1,030)</td>
      <td>28,994,855(+44,129)</td>
      <td>1.3</td>
      <td>96.6</td>
      <td>21,760</td>
    </tr>
    <tr>
      <th>2</th>
      <td>브라질🇧🇷</td>
      <td>18,056,639(+86,833)</td>
      <td>504,897(+2,080)</td>
      <td>16,388,847(+100,455)</td>
      <td>2.8</td>
      <td>90.8</td>
      <td>84,949</td>
    </tr>
    <tr>
      <th>3</th>
      <td>프랑스🇫🇷</td>
      <td>5,760,002(+2,204)</td>
      <td>110,829(+51)</td>
      <td>5,575,086(+8,692)</td>
      <td>1.9</td>
      <td>96.8</td>
      <td>88,244</td>
    </tr>
    <tr>
      <th>4</th>
      <td>터키🇹🇷</td>
      <td>5,381,736(+6,143)</td>
      <td>49,293(+57)</td>
      <td>5,242,945(+5,214)</td>
      <td>0.9</td>
      <td>97.4</td>
      <td>63,811</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>195</th>
      <td>생바르텔레미🇧🇱</td>
      <td>1,005</td>
      <td>1</td>
      <td>462</td>
      <td>0.1</td>
      <td>46.0</td>
      <td>101,752</td>
    </tr>
    <tr>
      <th>196</th>
      <td>페로 제도🇫🇴</td>
      <td>769(+1)</td>
      <td>1</td>
      <td>755</td>
      <td>0.1</td>
      <td>98.2</td>
      <td>15,738</td>
    </tr>
    <tr>
      <th>197</th>
      <td>케이맨 제도🇰🇾</td>
      <td>609</td>
      <td>2</td>
      <td>588(+1)</td>
      <td>0.3</td>
      <td>96.6</td>
      <td>9,266</td>
    </tr>
    <tr>
      <th>198</th>
      <td>탄자니아🇹🇿</td>
      <td>509</td>
      <td>21</td>
      <td>183</td>
      <td>4.1</td>
      <td>36.0</td>
      <td>9</td>
    </tr>
    <tr>
      <th>199</th>
      <td>왈리스 퓌티나🇼🇫</td>
      <td>445</td>
      <td>7</td>
      <td>438</td>
      <td>1.6</td>
      <td>98.4</td>
      <td>-</td>
    </tr>
  </tbody>
</table>
<p>200 rows × 7 columns</p>
</div>



#### 2) 국가별 대륙 정보 불러오기
- 2-x)에서 파일을 객체 `f_name2` 이름으로 저장


```python
# f_name2 = 'wiki.csv'
data2 = pd.read_csv(f_name2)
data2
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국가</th>
      <th>대륙</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>캐나다</td>
      <td>북아메리카</td>
    </tr>
    <tr>
      <th>1</th>
      <td>미국</td>
      <td>북아메리카</td>
    </tr>
    <tr>
      <th>2</th>
      <td>아르헨티나</td>
      <td>남아메리카</td>
    </tr>
    <tr>
      <th>3</th>
      <td>바베이도스</td>
      <td>북아메리카</td>
    </tr>
    <tr>
      <th>4</th>
      <td>버뮤다</td>
      <td>남아메리카</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>221</th>
      <td>슬로바키아</td>
      <td>유럽</td>
    </tr>
    <tr>
      <th>222</th>
      <td>산마리노</td>
      <td>유럽</td>
    </tr>
    <tr>
      <th>223</th>
      <td>우크라이나</td>
      <td>유럽</td>
    </tr>
    <tr>
      <th>224</th>
      <td>바티칸 시국</td>
      <td>유럽</td>
    </tr>
    <tr>
      <th>225</th>
      <td>불가리아</td>
      <td>유럽</td>
    </tr>
  </tbody>
</table>
<p>226 rows × 2 columns</p>
</div>



#### 3) 코로나 실시간 상황판의 국가 순으로 대륙 정보 가져오기
- print되는 index와 국가 이름은 코로나 실시간 상황판에는 있지만, 위키백과에는 나와있지 않은 국가이다.
- 3-1) 과정을 통해 print된 국가들의 대륙 정보를 찾아서 `f_name2` 파일(from.위키백과)에 추가적으로 작성하면 해결 가능하다. 


```python
country = data1["국가"]
contin = data2["대륙"]

result = []
for i, one in enumerate(country) :
    try :
        idx = data2.index[data2["국가"]==one[:-2]][0]
        result.append(contin[idx])
    except :
        print(i, one[:-2])
        result.append("그 외")

result
```

    150 콩고공화국
    152 퀴라소
    153 마르티니크
    157 아루바
    163 중앙아프리카 공화국
    164 예멘
    174 지브롤터
    177 기니비사우
    181 신트마르턴
    184 터크스 케이커스 제도
    185 상투메 프린시페
    188 세인트마틴 섬
    192 카리브 네덜란드
    193 맨섬
    195 생바르텔레미
    196 페로 제도
    197 케이맨 제도
    198 탄자니아
    199 왈리스 퓌티나





    ['북아메리카',
     '아시아',
     '남아메리카',
     '유럽',
     '아시아',
     '아시아',
     '유럽',
     '남아메리카',
     '유럽',
     '남아메리카',
     '유럽',
     '유럽',
     '아시아',
     '유럽',
     '북아메리카',
     '유럽',
     '남아메리카',
     '아시아',
     '아프리카',
     '유럽',
     '유럽',
     '남아메리카',
     '북아메리카',
     '아시아',
     '아시아',
     '유럽',
     '유럽',
     '유럽',
     '아시아',
     '유럽',
     '아시아',
     '아시아',
     '유럽',
     '아시아',
     '아시아',
     '유럽',
     '아시아',
     '유럽',
     '유럽',
     '아시아',
     '아시아',
     '아시아',
     '아프리카',
     '아시아',
     '남아메리카',
     '남아메리카',
     '유럽',
     '유럽',
     '아시아',
     '유럽',
     '남아메리카',
     '북아메리카',
     '유럽',
     '아프리카',
     '아시아',
     '유럽',
     '남아메리카',
     '북아메리카',
     '아시아',
     '아시아',
     '북아메리카',
     '아시아',
     '유럽',
     '북아메리카',
     '유럽',
     '아시아',
     '아프리카',
     '유럽',
     '아시아',
     '남아메리카',
     '유럽',
     '유럽',
     '남아메리카',
     '아시아',
     '아시아',
     '아시아',
     '아시아',
     '아시아',
     '유럽',
     '아프리카',
     '아프리카',
     '북아메리카',
     '아프리카',
     '유럽',
     '아시아',
     '아시아',
     '유럽',
     '아시아',
     '아프리카',
     '유럽',
     '유럽',
     '유럽',
     '아시아',
     '아시아',
     '유럽',
     '아시아',
     '아시아',
     '유럽',
     '아프리카',
     '유럽',
     '아시아',
     '아프리카',
     '남아메리카',
     '아프리카',
     '아시아',
     '아프리카',
     '아프리카',
     '아시아',
     '유럽',
     '아프리카',
     '아시아',
     '북아메리카',
     '아프리카',
     '아시아',
     '아프리카',
     '아프리카',
     '아프리카',
     '아프리카',
     '아프리카',
     '아프리카',
     '아프리카',
     '아프리카',
     '아프리카',
     '북아메리카',
     '유럽',
     '오세아니아',
     '그 외',
     '그 외',
     '아시아',
     '아프리카',
     '아프리카',
     '아프리카',
     '남아메리카',
     '그 외',
     '남아메리카',
     '그 외',
     '아프리카',
     '북아메리카',
     '오세아니아',
     '그 외',
     '아프리카',
     '아프리카',
     '아프리카',
     '아시아',
     '유럽',
     '아시아',
     '아프리카',
     '아프리카',
     '아시아',
     '북아메리카',
     '그 외',
     '북아메리카',
     '그 외',
     '그 외',
     '아시아',
     '아프리카',
     '아프리카',
     '그 외',
     '아프리카',
     '아시아',
     '아프리카',
     '아프리카',
     '북아메리카',
     '그 외',
     '그 외',
     '유럽',
     '아프리카',
     '아프리카',
     '아프리카',
     '아프리카',
     '북아메리카',
     '유럽',
     '아프리카',
     '아프리카',
     '그 외',
     '북아메리카',
     '아프리카',
     '그 외',
     '아프리카',
     '유럽',
     '오세아니아',
     '그 외',
     '유럽',
     '남아메리카',
     '그 외',
     '그 외',
     '오세아니아',
     '북아메리카',
     '그 외',
     '아시아',
     '아시아',
     '아프리카',
     '그 외',
     '그 외',
     '북아메리카',
     '그 외',
     '그 외',
     '그 외',
     '그 외',
     '그 외']



#### 3-1) 오류로 나온  국가들 대륙 정보 csv 파일에 추가하기
*skip*

#### 4) 대륙 정보 추가해서 새로운 csv 파일로 내보내기 
- 파일명 : *corona_total.csv* (`f_name3` 객체로 저장)



```python
f_name3 = "corona_total.csv"
data1["대륙"]=result
data1.to_csv(f_name3, index=False)
```

### 4. 대륙별로 사망률과 완치율의 평균 구하기

#### 1) 전체 데이터 불러오기
- 3.-4)에서 파일을 객체 `f_name3` 이름으로 저장


```python
f_name3 = "corona_total.csv"
data_all = pd.read_csv(f_name3)
data_all
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>국가</th>
      <th>확진자</th>
      <th>사망자</th>
      <th>완치자</th>
      <th>치명(%)</th>
      <th>완치(%)</th>
      <th>발생률</th>
      <th>대륙</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>미국🇺🇸</td>
      <td>34,434,803(+14,822)</td>
      <td>617,875(+392)</td>
      <td>28,817,134(+48,726)</td>
      <td>1.8</td>
      <td>83.7</td>
      <td>104,032</td>
      <td>북아메리카</td>
    </tr>
    <tr>
      <th>1</th>
      <td>인도🇮🇳</td>
      <td>30,028,709(+26,018)</td>
      <td>390,691(+1,030)</td>
      <td>28,994,855(+44,129)</td>
      <td>1.3</td>
      <td>96.6</td>
      <td>21,760</td>
      <td>아시아</td>
    </tr>
    <tr>
      <th>2</th>
      <td>브라질🇧🇷</td>
      <td>18,056,639(+86,833)</td>
      <td>504,897(+2,080)</td>
      <td>16,388,847(+100,455)</td>
      <td>2.8</td>
      <td>90.8</td>
      <td>84,949</td>
      <td>남아메리카</td>
    </tr>
    <tr>
      <th>3</th>
      <td>프랑스🇫🇷</td>
      <td>5,760,002(+2,204)</td>
      <td>110,829(+51)</td>
      <td>5,575,086(+8,692)</td>
      <td>1.9</td>
      <td>96.8</td>
      <td>88,244</td>
      <td>유럽</td>
    </tr>
    <tr>
      <th>4</th>
      <td>터키🇹🇷</td>
      <td>5,381,736(+6,143)</td>
      <td>49,293(+57)</td>
      <td>5,242,945(+5,214)</td>
      <td>0.9</td>
      <td>97.4</td>
      <td>63,811</td>
      <td>아시아</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>195</th>
      <td>생바르텔레미🇧🇱</td>
      <td>1,005</td>
      <td>1</td>
      <td>462</td>
      <td>0.1</td>
      <td>46.0</td>
      <td>101,752</td>
      <td>그 외</td>
    </tr>
    <tr>
      <th>196</th>
      <td>페로 제도🇫🇴</td>
      <td>769(+1)</td>
      <td>1</td>
      <td>755</td>
      <td>0.1</td>
      <td>98.2</td>
      <td>15,738</td>
      <td>그 외</td>
    </tr>
    <tr>
      <th>197</th>
      <td>케이맨 제도🇰🇾</td>
      <td>609</td>
      <td>2</td>
      <td>588(+1)</td>
      <td>0.3</td>
      <td>96.6</td>
      <td>9,266</td>
      <td>그 외</td>
    </tr>
    <tr>
      <th>198</th>
      <td>탄자니아🇹🇿</td>
      <td>509</td>
      <td>21</td>
      <td>183</td>
      <td>4.1</td>
      <td>36.0</td>
      <td>9</td>
      <td>그 외</td>
    </tr>
    <tr>
      <th>199</th>
      <td>왈리스 퓌티나🇼🇫</td>
      <td>445</td>
      <td>7</td>
      <td>438</td>
      <td>1.6</td>
      <td>98.4</td>
      <td>-</td>
      <td>그 외</td>
    </tr>
  </tbody>
</table>
<p>200 rows × 8 columns</p>
</div>



#### 2) 대륙별로 그룹화하여 평균 구하기


```python
grouped = data_all.groupby("대륙")
grp_mean = grouped.mean()
grp_mean
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>치명(%)</th>
      <th>완치(%)</th>
    </tr>
    <tr>
      <th>대륙</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>그 외</th>
      <td>1.941667</td>
      <td>75.908333</td>
    </tr>
    <tr>
      <th>남아메리카</th>
      <td>2.980000</td>
      <td>86.242857</td>
    </tr>
    <tr>
      <th>북아메리카</th>
      <td>2.288889</td>
      <td>84.750000</td>
    </tr>
    <tr>
      <th>아시아</th>
      <td>1.593878</td>
      <td>89.681633</td>
    </tr>
    <tr>
      <th>아프리카</th>
      <td>2.091489</td>
      <td>86.651064</td>
    </tr>
    <tr>
      <th>오세아니아</th>
      <td>1.350000</td>
      <td>79.550000</td>
    </tr>
    <tr>
      <th>유럽</th>
      <td>1.988372</td>
      <td>94.482927</td>
    </tr>
  </tbody>
</table>
</div>



### 5. 시각화
#### 1) matplotlib 한글 패치


```python
from matplotlib import font_manager, rc
import platform
```


```python
path = "C:/Windows/Fonts/malgun.ttf" 
if platform.system() == "Windows":
    font_name = font_manager.FontProperties(fname=path).get_name()
    rc('font', family=font_name) 
elif platform.system()=="Darwin":
    rc('font', family='AppleGothic') 
else:
    print("Unknown System") 
    matplotlib.rcParams['axes.unicode_minus'] = False
```

#### 2) 대륙별 치명률과 완치률 plot


```python
x = grp_mean.index
y1 = grp_mean["치명(%)"]
y2 = grp_mean["완치(%)"]
```


```python
fig = plt.figure(figsize=(7,7))

ax1 = fig.add_subplot(211)
ax1.plot(x,y1, 'o-')
ax1.set_ylabel("Fatal Rate [%]")
ax1.grid()
ax1.set_ylim(0,10)

ax2 = fig.add_subplot(212)
ax2.plot(x,y2, 'o-')
ax2.set_ylabel("Recovery Rate [%]")
ax2.grid()
ax2.set_ylim(70, 100)
```




    (70.0, 100.0)




    
![png](output_43_1.png)
    


#### 3)  상관관계
- 예상 : 완치률이 높을수록 사망률은 낮게 나오지 않을까하여 음의 상관관계를 예상
- 결과 : 치명률과 완치율은 음의 상관관계를 가지지는 않는다.


```python
grp_mean.corr()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>치명(%)</th>
      <th>완치(%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>치명(%)</th>
      <td>1.000000</td>
      <td>0.170052</td>
    </tr>
    <tr>
      <th>완치(%)</th>
      <td>0.170052</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>



#### 4) 통계치
- 시각화 결과를 통해서 완치율의 분포가 치명률보다 더 고르게 나타나는 것을 확인할 수 있었다. 데이터의 통계치를 확인해본 결과 완치율의 분산이 치명률보다 약 11배 정도 높았다. 따라서 대륙에 따라서 완치율이 달라질 수 있다고 이야기할 수 있겠다.


```python
grp_mean.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>치명(%)</th>
      <th>완치(%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>7.000000</td>
      <td>7.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2.033471</td>
      <td>85.323831</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.522073</td>
      <td>6.161759</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.350000</td>
      <td>75.908333</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.767772</td>
      <td>82.150000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.988372</td>
      <td>86.242857</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2.190189</td>
      <td>88.166348</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2.980000</td>
      <td>94.482927</td>
    </tr>
  </tbody>
</table>
</div>




```python

```
